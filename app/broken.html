<!DOCTYPE html>
<html>
<head>
	<title>Broke</title>
	<!-- build:css styles/broken.css -->
	<link rel="stylesheet" href="styles/broken.css">
	<!-- endbuild -->
</head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div id="navbar" class="navbar-collapse collapse">
			<form class="navbar-form navbar-right" role="form">
				<button type="button" class="btn btn-success" data-toggle="modal" data-target="#solutionModal">Got it</button>
			</form>
		</div><!--/.navbar-collapse -->
	</div>
</nav>

<!-- Modal -->
<div class="modal fadel solution-modal" id="solutionModal" tabindex="-1" role="dialog" aria-labelledby="solutionModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h4 class="modal-title" id="solutionModalLabel">Solution</h4>
			</div>
			<form id="solution-form" action="checkResult">
			<div class="modal-body">
				<div class="form-group">
					<input type="text" id="solution" placeholder="Solution" class="form-control">
				</div>
			</div>
			<div class="modal-footer">
				<input  type="submit" value="Got it" id="submit-result" class="btn btn-success" ></input >
			</div>
			</form>
		</div>
	</div>
</div>
</div>

<div class="container cubes">
	<div class="row row-even">
		<div class="col-md-1">Pas ça...</div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1">Toujours pas</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Toujours pas</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
	</div>
	<div class="row row-odd">
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Toujours pas</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
	</div>
	<div class="row row-even">
		<div class="col-md-1"></div>
		<div class="col-md-1">Toujours pas</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1 maumauche">2</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
	</div>
	<div class="row row-odd">
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Toujours pas</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
	</div>
	<div class="row row-even">
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Toujours pas</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
	</div>
	<div class="row row-odd">
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Toujours pas</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Toujours pas</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
	</div>
	<div class="row row-even">
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1 maumauche">jours</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
	</div>
	<div class="row row-odd">
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
	</div>
	<div class="row row-even">
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1">Non, pas ça</div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
		<div class="col-md-1"></div>
	</div>
</div>
		<!-- build:js scripts/broken-vendor.js -->
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <script src="bower_components/cryptojslib/components/core-min.js"></script>
        <!-- endbuild -->

        <!-- build:js scripts/broken-plugins.js -->
        <script src="scripts/libs/jgravity.min.js"></script>
        <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/tooltip.js"></script>
        <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/modal.js"></script>
        <script src="bower_components/cryptojslib/components/sha1-min.js"></script>
        <!-- endbuild -->

<script type="text/javascript">
	$(function() {

		$('body').jGravity({
			target: '.cubes div',
			weight: 8,
			depth: 1,
			drag: true
		});
		var $solution= $('#solution');
		$('#solutionModal').on('shown.bs.modal', function() {
			$solution.focus();
		});

		$('#solution-form').submit(function(e) {
			e.preventDefault();
			
			var solution= $solution.val();
			var hash = CryptoJS.SHA1(solution).toString();
			if (hash === '505eabdfb8082f91ed4a2fbaff9ecb5408d27baa'
				|| hash === 'ae1eacbd142f36d4ff9b80336bff56b079416595'){
				localStorage.setItem('enigm1', true);
				window.location.href = 'index.html';
			} else {
				var rand= Math.floor((Math.random() * 4) + 1);
				if (rand === 3) {
					window.location.href = 'fail.html';	
				} else {
					wrongAnswerStyle();
				}

			}
			return false;
		});

		var wrongAnswerStyle= function() {
			var rand= Math.floor((Math.random() * 4) + 1);
			if (rand === 3) {
				window.location.href = 'fail.html';	
			} else {
				$solution.addClass('animated hinge');
				setTimeout(function() {
	              $solution.removeClass('animated hinge');
	            }, 2800);
			}
		};
	});
</script>

</body>
</html>